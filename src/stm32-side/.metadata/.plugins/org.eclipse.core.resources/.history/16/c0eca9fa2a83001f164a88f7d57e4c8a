#include "motor.h"

void turnMotorsOff(const int motorIndexes[]){
	for (int i=0; motorIndexes[i] != -1; i++){
		HAL_GPIO_WritePin(motorData[i].GPIO_COUNTER_Port, motorData[i].GPIO_COUNTER_Pin, GPIO_PIN_SET);
		HAL_GPIO_WritePin(motorData[i].GPIO_CLOCK_Port, motorData[i].GPIO_CLOCK_Pin, GPIO_PIN_SET);
	}
}

void rotation(const uint8_t motorIndex, const uint8_t rotationDirection, const uint8_t times){
	int* motors = (int*) calloc(2, sizeof(int));
	for(int i=0; i<times; i++){
		HAL_GPIO_WritePin(motorData[motorIndex].GPIO_COUNTER_Port, motorData[motorIndex].GPIO_COUNTER_Pin, !rotationDirection);
		HAL_GPIO_WritePin(motorData[motorIndex].GPIO_CLOCK_Port, motorData[motorIndex].GPIO_CLOCK_Pin, rotationDirection);
		HAL_Delay(900);
	}
}
